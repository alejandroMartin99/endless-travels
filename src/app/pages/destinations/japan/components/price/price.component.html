
<div class="landing-container">
    <!-- <h1>ğŸ—¾ Japan Travel Expenses</h1> -->
    
    <div class="summary-stats">
        <div class="stat-card">
            <div class="stat-value">{{ 2400 | currency:'EUR':'symbol':'1.2-2' }}</div>
            <div class="stat-label">Presupuesto total</div>
        </div>
        <div class="stat-card">
            <div class="stat-value">{{ 560 | currency:'EUR':'symbol':'1.2-2' }}</div>
            <div class="stat-label">Alojamiento</div>
        </div>
        <div class="stat-card">
            <div class="stat-value">{{ 1114 | currency:'EUR':'symbol':'1.2-2' }}</div>
            <div class="stat-label">Vuelos + JRPass</div>
        </div>
        <div class="stat-card">
            <div class="stat-value">{{610 | currency:'EUR':'symbol':'1.2-2' }}</div>
            <div class="stat-label">Gastado en Destino</div>
        </div>
    </div>
</div>

<div class="content-container">
    
    <div class="dashboard">
        <div class="card">
            <h3>ğŸ“Š Resumen de Gastos</h3>

            <div class="chart-container">
                <canvas
                    baseChart
                    [data]="chartData"
                    [options]="chartOptions"
                    chartType="bar"
                >
                </canvas>
            </div>
        </div>
        
        <div class="card">
            <h3>ğŸ·ï¸ Desglose de Gastos por CategorÃ­a</h3>
            <div class="expense-item">
                <div>
                    <span class="category-icon transport">âœˆï¸</span>
                    <span class="expense-name">Vuelos</span>
                </div>
                <span class="expense-amount">â‚¬800</span>
            </div>
            <div class="expense-item">
                <div>
                    <span class="category-icon transport">âœˆï¸</span>
                    <span class="expense-name">JR PASS</span>
                </div>
                <span class="expense-amount">â‚¬314</span>
            </div>
            <div class="expense-item">
                <div>
                    <span class="category-icon transport">âœˆï¸</span>
                    <span class="expense-name">Metro/Bus No incluido en JRPass (Suica) </span>
                </div>
                <span class="expense-amount">â‚¬30</span>
            </div>
            <div class="expense-item">
                <div>
                    <span class="category-icon transport">âœˆï¸</span>
                    <span class="expense-name">Alojamiento</span>
                </div>
                <span class="expense-amount">â‚¬560</span>
            </div>
            <div class="expense-item">
                <div>
                    <span class="category-icon food">ğŸœ</span>
                    <span class="expense-name">Comida</span>
                </div>
                <span class="expense-amount">â‚¬375</span>
            </div>
            <div class="expense-item">
                <div>
                    <span class="category-icon food">ğŸ›ï¸</span>
                    <span class="expense-name">Templos y Visitas</span>
                </div>
                <span class="expense-amount">â‚¬70</span>
            </div>
            <div class="expense-item">
                <div>
                    <span class="category-icon shopping">ğŸ›ï¸</span>
                    <span class="expense-name">Compras y Entretenimiento</span>
                </div>
                <span class="expense-amount">â‚¬100</span>
            </div>
        </div>
    </div>

    <div class="text-section">
        <h2>ğŸ’° GestiÃ³n del Dinero en JapÃ³n</h2>
        <p>Una de las partes mÃ¡s importantes al organizar tu viaje a JapÃ³n es decidir cÃ³mo administrar tu dinero para obtener el mÃ¡ximo valor posible y evitar sorpresas desagradables. AquÃ­ te contamos nuestra experiencia y te ofrecemos consejos para que viajes con tranquilidad financiera:</p>
        
        <div class="money-tip danger">
            <strong>âŒ No recomendado:</strong> Cambiar euros a yenes en EspaÃ±a antes del viaje. Nosotros cambiamos alrededor de â‚¬150 por persona antes de volar, pero nos cobraron una comisiÃ³n elevada, perdiendo una gran cantidad en el tipo de cambio. Ãštil para emergencias (como el taxi al aeropuerto), pero no para convertir grandes cantidades.
        </div>
        
        <div class="money-tip success">
            <strong>âœ… Altamente recomendado:</strong> Cambiar dinero en el aeropuerto de JapÃ³n. El tipo de cambio es competitivo y no hay comisiones abusivas. Cambiamos alrededor de â‚¬200 por persona al llegar, y fue la opciÃ³n mÃ¡s favorable para obtener efectivo inicial. Personalmente recomedarÃ­a cambiar incluso mÃ¡s, ya que es el mejor cambio que puedes obtener. En el caso de excedente puede volver a cambiar a euros en la vuelta.
        </div>
        
        <div class="money-tip warning">
            <strong>ğŸ’³ Tarjetas de prepago o Revolut:</strong> Una de las mejores opciones para pagos electrÃ³nicos y retiradas en cajeros automÃ¡ticos. Nos funcionaron de maravilla para pagos en restaurantes y tiendas, evitando comisiones innecesarias y obteniendo un tipo de cambio favorable. Llevamos alrededor de â‚¬300 por persona cargados en la tarjeta.
        </div>

        <div class="money-tip info">
            <strong>ğŸ± Precio promedio de la comida en JapÃ³n:</strong> Comer en JapÃ³n puede adaptarse a todos los bolsillos. Por ejemplo:
            <ul>
                <li>ğŸ™ Restaurante econÃ³mico o de comida rÃ¡pida: alrededor de <strong>â‚¬6â€“â‚¬12</strong> por persona.</li>
                <li>ğŸœ Restaurante estÃ¡ndar de sushi, ramen o izakaya: alrededor de <strong>â‚¬15â€“â‚¬25</strong> por persona.</li>
                <li>ğŸ¥© Restaurante de categorÃ­a media o especialidades locales: alrededor de <strong>â‚¬30â€“â‚¬40</strong> por persona.</li>
            </ul>
        </div>
                
        <p><strong>ğŸ’µ Consejo final:</strong> JapÃ³n sigue siendo un paÃ­s donde el efectivo manda, especialmente en locales tradicionales, templos y tiendas pequeÃ±as. AsegÃºrate de llevar siempre yenes contigo para estos casos. Al mismo tiempo, cada vez mÃ¡s establecimientos aceptan pagos con tarjeta, especialmente en grandes ciudades como Tokio, Kioto u Osaka, por lo que la combinaciÃ³n de efectivo y tarjeta es la estrategia ganadora para tu viaje.</p>

        <div class="payment-summary mt-4">
            
        <h3>ğŸ’³ Resumen de la GestiÃ³n de Pagos para JapÃ³n</h3>
        <div class="summary-cards">
            <div class="summary-card">
                <span>ğŸ‡ªğŸ‡¸ â‚¬150</span>
                <p>Cambiados en EspaÃ±a para emergencias (no recomendado para grandes cantidades)</p>
            </div>
            <div class="summary-card">
                <span>ğŸ‡¯ğŸ‡µ â‚¬200</span>
                <p>Cambiados a yenes en el aeropuerto de JapÃ³n para pagos en efectivo</p>
            </div>
            <div class="summary-card">
                <span>ğŸ’³ â‚¬300</span>
                <p>En tarjeta Revolut para pagos electrÃ³nicos y retiradas en cajeros automÃ¡ticos</p>
            </div>
        </div>
    </div>
    </div>

    

    <mat-accordion>
        <mat-expansion-panel>
            <mat-expansion-panel-header>
            <mat-panel-title>
                ğŸ’³ Si quieres conocer mÃ¡s detalles, te presento los datos de gasto de la tarjeta
            </mat-panel-title>
            </mat-expansion-panel-header>

            <div class="transactions-section">
            <h3>ğŸ“‹ Detalle de Transacciones</h3>
            <table class="transaction-table">
                <thead>
                <tr>
                    <th>Fecha</th>
                    <th>Comercio</th>
                    <th>CategorÃ­a</th>
                    <th>Importe</th>
                </tr>
                </thead>
                <tbody>
                <tr *ngFor="let transaction of transactions">
                    <td>{{ transaction.date | date:'dd/MM/yyyy' }}</td>
                    <td>{{ transaction.merchant }}</td>
                    <td>
                    <span
                        class="category-icon"
                        [class]="getCategoryClass(transaction.category)"
                    >
                        {{ getCategoryIcon(transaction.category) }}
                    </span>
                    {{ transaction.category }}
                    </td>
                    <td [class]="transaction.amount >= 0 ? 'positive' : 'negative'">
                    {{ transaction.amount | currency:'EUR':'symbol':'1.2-2' }}
                    </td>
                </tr>
                </tbody>
            </table>
            </div>
        </mat-expansion-panel>
    </mat-accordion>

</div>



