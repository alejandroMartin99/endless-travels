
<div class="landing-container">
    <!-- <h1>🗾 Japan Travel Expenses</h1> -->
    
    <div class="summary-stats">
        <div class="stat-card">
            <div class="stat-value">{{ 2400 | currency:'EUR':'symbol':'1.2-2' }}</div>
            <div class="stat-label">Presupuesto total</div>
        </div>
        <div class="stat-card">
            <div class="stat-value">{{ 560 | currency:'EUR':'symbol':'1.2-2' }}</div>
            <div class="stat-label">Alojamiento</div>
        </div>
        <div class="stat-card">
            <div class="stat-value">{{ 1114 | currency:'EUR':'symbol':'1.2-2' }}</div>
            <div class="stat-label">Vuelos + JRPass</div>
        </div>
        <div class="stat-card">
            <div class="stat-value">{{610 | currency:'EUR':'symbol':'1.2-2' }}</div>
            <div class="stat-label">Gastado en Destino</div>
        </div>
    </div>
</div>

<div class="content-container">
    
    <div class="dashboard">
        <div class="card">
            <h3>📊 Resumen de Gastos</h3>

            <div class="chart-container">
                <canvas
                    baseChart
                    [data]="chartData"
                    [options]="chartOptions"
                    chartType="bar"
                >
                </canvas>
            </div>
        </div>
        
        <div class="card">
            <h3>🏷️ Desglose de Gastos por Categoría</h3>
            <div class="expense-item">
                <div>
                    <span class="category-icon transport">✈️</span>
                    <span class="expense-name">Vuelos</span>
                </div>
                <span class="expense-amount">€800</span>
            </div>
            <div class="expense-item">
                <div>
                    <span class="category-icon transport">✈️</span>
                    <span class="expense-name">JR PASS</span>
                </div>
                <span class="expense-amount">€314</span>
            </div>
            <div class="expense-item">
                <div>
                    <span class="category-icon transport">✈️</span>
                    <span class="expense-name">Metro/Bus No incluido en JRPass (Suica) </span>
                </div>
                <span class="expense-amount">€30</span>
            </div>
            <div class="expense-item">
                <div>
                    <span class="category-icon transport">✈️</span>
                    <span class="expense-name">Alojamiento</span>
                </div>
                <span class="expense-amount">€560</span>
            </div>
            <div class="expense-item">
                <div>
                    <span class="category-icon food">🍜</span>
                    <span class="expense-name">Comida</span>
                </div>
                <span class="expense-amount">€375</span>
            </div>
            <div class="expense-item">
                <div>
                    <span class="category-icon food">🛍️</span>
                    <span class="expense-name">Templos y Visitas</span>
                </div>
                <span class="expense-amount">€70</span>
            </div>
            <div class="expense-item">
                <div>
                    <span class="category-icon shopping">🛍️</span>
                    <span class="expense-name">Compras y Entretenimiento</span>
                </div>
                <span class="expense-amount">€100</span>
            </div>
        </div>
    </div>

    <div class="text-section">
        <h2>💰 Gestión del Dinero en Japón</h2>
        <p>Una de las partes más importantes al organizar tu viaje a Japón es decidir cómo administrar tu dinero para obtener el máximo valor posible y evitar sorpresas desagradables. Aquí te contamos nuestra experiencia y te ofrecemos consejos para que viajes con tranquilidad financiera:</p>
        
        <div class="money-tip danger">
            <strong>❌ No recomendado:</strong> Cambiar euros a yenes en España antes del viaje. Nosotros cambiamos alrededor de €150 por persona antes de volar, pero nos cobraron una comisión elevada, perdiendo una gran cantidad en el tipo de cambio. Útil para emergencias (como el taxi al aeropuerto), pero no para convertir grandes cantidades.
        </div>
        
        <div class="money-tip success">
            <strong>✅ Altamente recomendado:</strong> Cambiar dinero en el aeropuerto de Japón. El tipo de cambio es competitivo y no hay comisiones abusivas. Cambiamos alrededor de €200 por persona al llegar, y fue la opción más favorable para obtener efectivo inicial. Personalmente recomedaría cambiar incluso más, ya que es el mejor cambio que puedes obtener. En el caso de excedente puede volver a cambiar a euros en la vuelta.
        </div>
        
        <div class="money-tip warning">
            <strong>💳 Tarjetas de prepago o Revolut:</strong> Una de las mejores opciones para pagos electrónicos y retiradas en cajeros automáticos. Nos funcionaron de maravilla para pagos en restaurantes y tiendas, evitando comisiones innecesarias y obteniendo un tipo de cambio favorable. Llevamos alrededor de €300 por persona cargados en la tarjeta.
        </div>

        <div class="money-tip info">
            <strong>🍱 Precio promedio de la comida en Japón:</strong> Comer en Japón puede adaptarse a todos los bolsillos. Por ejemplo:
            <ul>
                <li>🍙 Restaurante económico o de comida rápida: alrededor de <strong>€6–€12</strong> por persona.</li>
                <li>🍜 Restaurante estándar de sushi, ramen o izakaya: alrededor de <strong>€15–€25</strong> por persona.</li>
                <li>🥩 Restaurante de categoría media o especialidades locales: alrededor de <strong>€30–€40</strong> por persona.</li>
            </ul>
        </div>
                
        <p><strong>💵 Consejo final:</strong> Japón sigue siendo un país donde el efectivo manda, especialmente en locales tradicionales, templos y tiendas pequeñas. Asegúrate de llevar siempre yenes contigo para estos casos. Al mismo tiempo, cada vez más establecimientos aceptan pagos con tarjeta, especialmente en grandes ciudades como Tokio, Kioto u Osaka, por lo que la combinación de efectivo y tarjeta es la estrategia ganadora para tu viaje.</p>

        <div class="payment-summary mt-4">
            
        <h3>💳 Resumen de la Gestión de Pagos para Japón</h3>
        <div class="summary-cards">
            <div class="summary-card">
                <span>🇪🇸 €150</span>
                <p>Cambiados en España para emergencias (no recomendado para grandes cantidades)</p>
            </div>
            <div class="summary-card">
                <span>🇯🇵 €200</span>
                <p>Cambiados a yenes en el aeropuerto de Japón para pagos en efectivo</p>
            </div>
            <div class="summary-card">
                <span>💳 €300</span>
                <p>En tarjeta Revolut para pagos electrónicos y retiradas en cajeros automáticos</p>
            </div>
        </div>
    </div>
    </div>

    

    <mat-accordion>
        <mat-expansion-panel>
            <mat-expansion-panel-header>
            <mat-panel-title>
                💳 Si quieres conocer más detalles, te presento los datos de gasto de la tarjeta
            </mat-panel-title>
            </mat-expansion-panel-header>

            <div class="transactions-section">
            <h3>📋 Detalle de Transacciones</h3>
            <table class="transaction-table">
                <thead>
                <tr>
                    <th>Fecha</th>
                    <th>Comercio</th>
                    <th>Categoría</th>
                    <th>Importe</th>
                </tr>
                </thead>
                <tbody>
                <tr *ngFor="let transaction of transactions">
                    <td>{{ transaction.date | date:'dd/MM/yyyy' }}</td>
                    <td>{{ transaction.merchant }}</td>
                    <td>
                    <span
                        class="category-icon"
                        [class]="getCategoryClass(transaction.category)"
                    >
                        {{ getCategoryIcon(transaction.category) }}
                    </span>
                    {{ transaction.category }}
                    </td>
                    <td [class]="transaction.amount >= 0 ? 'positive' : 'negative'">
                    {{ transaction.amount | currency:'EUR':'symbol':'1.2-2' }}
                    </td>
                </tr>
                </tbody>
            </table>
            </div>
        </mat-expansion-panel>
    </mat-accordion>

</div>



